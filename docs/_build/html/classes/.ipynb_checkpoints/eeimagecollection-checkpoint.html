

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ee.ImageCollection &mdash; eemont 0.1.9 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> eemont
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Extended Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../eefeature.html">ee.Feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eefeaturecollection.html">ee.FeatureCollection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eegeometry.html">ee.Geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eeimage.html">ee.Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eeimagecollection.html">ee.ImageCollection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pddataframe.html">pd.DataFrame</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules/common.html">common</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide/closestImage.html">Closest Image to a Specific Date</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/constructors.html">Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/dataConversion.html">Data Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/imageScaling.html">Image Scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/maskingClouds.html">Masking Clouds and Shadows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/overloadedOperators.html">Overloaded Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/spectralIndices.html">Spectral Indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/timeSeries.html">Time Series By Regions</a></li>
</ul>
<p class="caption"><span class="caption-text">Other Languages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide/eemontR.html">eemont in R</a></li>
</ul>
<p class="caption"><span class="caption-text">What's new?</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">eemont</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>ee.ImageCollection</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/classes/.ipynb_checkpoints/eeimagecollection-checkpoint.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ee-imagecollection">
<h1>ee.ImageCollection<a class="headerlink" href="#ee-imagecollection" title="Permalink to this headline">¶</a></h1>
<p>Extended methods for the ee.ImageCollection class:</p>
<span class="target" id="module-eemont.imagecollection"></span><dl class="py function">
<dt id="eemont.imagecollection.closest">
<code class="sig-prename descclassname">eemont.imagecollection.</code><code class="sig-name descname">closest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'month'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/eemont/imagecollection.html#closest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eemont.imagecollection.closest" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the closest image (or set of images if the collection intersects a region that requires multiple scenes) to the specified date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>ee.ImageCollection</em><em> [</em><em>this</em><em>]</em>) – Image Collection from which to get the closest image to the specified date.</p></li>
<li><p><strong>date</strong> (<em>ee.Date | string</em>) – Date of interest. The method will look for images closest to this date.</p></li>
<li><p><strong>tolerance</strong> (<em>float</em><em>, </em><em>default = 1</em>) – Filter the collection to [date - tolerance, date + tolerance) before searching the closest image. This speeds up the searching process for collections
with a high temporal resolution.</p></li>
<li><p><strong>unit</strong> (<em>string</em><em>, </em><em>default = 'month'</em>) – Units for tolerance. Available units: ‘year’, ‘month’, ‘week’, ‘day’, ‘hour’, ‘minute’ or ‘second’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Closest images to the specified date.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ee.ImageCollection</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ee</span><span class="o">,</span> <span class="nn">eemont</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ee</span><span class="o">.</span><span class="n">Initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;COPERNICUS/S2_SR&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">closest</span><span class="p">(</span><span class="s1">&#39;2020-10-15&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="eemont.imagecollection.getTimeSeriesByRegion">
<code class="sig-prename descclassname">eemont.imagecollection.</code><code class="sig-name descname">getTimeSeriesByRegion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">reducer</span></em>, <em class="sig-param"><span class="n">bands</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">geometry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">crs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">crsTransform</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bestEffort</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">maxPixels</span><span class="o">=</span><span class="default_value">1000000000000.0</span></em>, <em class="sig-param"><span class="n">tileScale</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">dateColumn</span><span class="o">=</span><span class="default_value">'date'</span></em>, <em class="sig-param"><span class="n">dateFormat</span><span class="o">=</span><span class="default_value">'ISO'</span></em>, <em class="sig-param"><span class="n">naValue</span><span class="o">=</span><span class="default_value">- 9999</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/eemont/imagecollection.html#getTimeSeriesByRegion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eemont.imagecollection.getTimeSeriesByRegion" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the time series by region for the given image collection and geometry (feature or feature collection are also supported) according to the specified reducer (or reducers).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>ee.ImageCollection</em><em> (</em><em>this</em><em>)</em>) – Image collection to get the time series from.</p></li>
<li><p><strong>reducer</strong> (<em>ee.Reducer | list</em><em>[</em><em>ee.Reducer</em><em>]</em>) – Reducer or list of reducers to use for region reduction.</p></li>
<li><p><strong>bands</strong> (<em>str | list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default = None</em>) – Selection of bands to get the time series from. Defaults to all bands in the image collection.</p></li>
<li><p><strong>geometry</strong> (<em>ee.Geometry | ee.Feature | ee.FeatureCollection</em><em>, </em><em>default = None</em>) – Geometry to perform the region reduction. If ee.Feature or ee.FeatureCollection, the geometry() method is called. In order to get reductions by each feature please see
the getTimeSeriesByRegions() method. Defaults to the footprint of the first band for each image in the collection.</p></li>
<li><p><strong>scale</strong> (<em>numeric</em><em>, </em><em>default = None</em>) – Nomical scale in meters.</p></li>
<li><p><strong>crs</strong> (<em>Projection</em><em>, </em><em>default = None</em>) – The projection to work in. If unspecified, the projection of the image’s first band is used. If specified in addition to scale, rescaled to the specified scale.</p></li>
<li><p><strong>crsTransform</strong> (<em>list</em><em>, </em><em>default = None</em>) – The list of CRS transform values. This is a row-major ordering of the 3x2 transform matrix.
This option is mutually exclusive with ‘scale’, and replaces any transform already set on the projection.</p></li>
<li><p><strong>bestEffort</strong> (<em>boolean</em><em>, </em><em>default = False</em>) – If the polygon would contain too many pixels at the given scale, compute and use a larger scale which would allow the operation to succeed.</p></li>
<li><p><strong>maxPixels</strong> (<em>numeric</em><em>, </em><em>default = 1e12</em>) – The maximum number of pixels to reduce.</p></li>
<li><p><strong>tileScale</strong> (<em>numeric</em><em>, </em><em>default = 1</em>) – A scaling factor used to reduce aggregation tile size; using a larger tileScale (e.g. 2 or 4) may enable computations that run out of memory with the default.</p></li>
<li><p><strong>dateColumn</strong> (<em>str</em><em>, </em><em>default = 'date'</em>) – Output name of the date column.</p></li>
<li><p><strong>dateFormat</strong> (<em>str</em><em>, </em><em>default = 'ISO'</em>) – Output format of the date column. Defaults to ISO. Available options: ‘ms’ (for milliseconds), ‘ISO’ (for ISO Standard Format) or a custom format pattern.</p></li>
<li><p><strong>naValue</strong> (<em>numeric</em><em>, </em><em>default = -9999</em>) – Value to use as NA when the region reduction doesn’t retrieve a value due to masked pixels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Time series by region retrieved as a Feature Collection.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ee.FeatureCollection</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ee</span><span class="o">,</span> <span class="nn">eemont</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ee</span><span class="o">.</span><span class="n">Initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="mf">3.984770</span><span class="p">,</span><span class="mf">48.767221</span><span class="p">])</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">50</span><span class="p">),{</span><span class="s1">&#39;ID&#39;</span><span class="p">:</span><span class="s1">&#39;A&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="mf">4.101367</span><span class="p">,</span><span class="mf">48.748076</span><span class="p">])</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">50</span><span class="p">),{</span><span class="s1">&#39;ID&#39;</span><span class="p">:</span><span class="s1">&#39;B&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fc</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">([</span><span class="n">f1</span><span class="p">,</span><span class="n">f2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;COPERNICUS/S2_SR&#39;</span><span class="p">)</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">filterBounds</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">filterDate</span><span class="p">(</span><span class="s1">&#39;2020-01-01&#39;</span><span class="p">,</span><span class="s1">&#39;2021-01-01&#39;</span><span class="p">)</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">maskClouds</span><span class="p">()</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">scale</span><span class="p">()</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">index</span><span class="p">([</span><span class="s1">&#39;EVI&#39;</span><span class="p">,</span><span class="s1">&#39;NDVI&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">S2</span><span class="o">.</span><span class="n">getTimeSeriesByRegion</span><span class="p">(</span><span class="n">reducer</span> <span class="o">=</span> <span class="p">[</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">median</span><span class="p">()],</span>
<span class="gp">... </span>                              <span class="n">geometry</span> <span class="o">=</span> <span class="n">fc</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">bands</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;EVI&#39;</span><span class="p">,</span><span class="s1">&#39;NDVI&#39;</span><span class="p">],</span>
<span class="gp">... </span>                              <span class="n">scale</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="../eeimagecollection.html#eemont.imagecollection.getTimeSeriesByRegions" title="eemont.imagecollection.getTimeSeriesByRegions"><code class="xref py py-func docutils literal notranslate"><span class="pre">getTimeSeriesByRegions()</span></code></a></dt><dd><p>Gets the time series by regions for the given image collection and feature collection according to the specified reducer (or reducers).</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="eemont.imagecollection.getTimeSeriesByRegions">
<code class="sig-prename descclassname">eemont.imagecollection.</code><code class="sig-name descname">getTimeSeriesByRegions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">reducer</span></em>, <em class="sig-param"><span class="n">collection</span></em>, <em class="sig-param"><span class="n">bands</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">crs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">crsTransform</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tileScale</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">dateColumn</span><span class="o">=</span><span class="default_value">'date'</span></em>, <em class="sig-param"><span class="n">dateFormat</span><span class="o">=</span><span class="default_value">'ISO'</span></em>, <em class="sig-param"><span class="n">naValue</span><span class="o">=</span><span class="default_value">- 9999</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/eemont/imagecollection.html#getTimeSeriesByRegions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eemont.imagecollection.getTimeSeriesByRegions" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the time series by regions for the given image collection and feature collection according to the specified reducer (or reducers).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>ee.ImageCollection</em><em> (</em><em>this</em><em>)</em>) – Image collection to get the time series from.</p></li>
<li><p><strong>reducer</strong> (<em>ee.Reducer | list</em><em>[</em><em>ee.Reducer</em><em>]</em>) – Reducer or list of reducers to use for region reduction.</p></li>
<li><p><strong>collection</strong> (<em>ee.FeatureCollection</em>) – Feature Collection to perform the reductions on. Image reductions are applied to each feature in the collection.</p></li>
<li><p><strong>bands</strong> (<em>str | list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default = None</em>) – Selection of bands to get the time series from. Defaults to all bands in the image collection.</p></li>
<li><p><strong>scale</strong> (<em>numeric</em><em>, </em><em>default = None</em>) – Nomical scale in meters.</p></li>
<li><p><strong>crs</strong> (<em>Projection</em><em>, </em><em>default = None</em>) – The projection to work in. If unspecified, the projection of the image’s first band is used. If specified in addition to scale, rescaled to the specified scale.</p></li>
<li><p><strong>crsTransform</strong> (<em>list</em><em>, </em><em>default = None</em>) – The list of CRS transform values. This is a row-major ordering of the 3x2 transform matrix.
This option is mutually exclusive with ‘scale’, and replaces any transform already set on the projection.</p></li>
<li><p><strong>tileScale</strong> (<em>numeric</em><em>, </em><em>default = 1</em>) – A scaling factor used to reduce aggregation tile size; using a larger tileScale (e.g. 2 or 4) may enable computations that run out of memory with the default.</p></li>
<li><p><strong>dateColumn</strong> (<em>str</em><em>, </em><em>default = 'date'</em>) – Output name of the date column.</p></li>
<li><p><strong>dateFormat</strong> (<em>str</em><em>, </em><em>default = 'ISO'</em>) – Output format of the date column. Defaults to ISO. Available options: ‘ms’ (for milliseconds), ‘ISO’ (for ISO Standard Format) or a custom format pattern.</p></li>
<li><p><strong>naValue</strong> (<em>numeric</em><em>, </em><em>default = -9999</em>) – Value to use as NA when the region reduction doesn’t retrieve a value due to masked pixels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Time series by regions retrieved as a Feature Collection.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ee.FeatureCollection</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ee</span><span class="o">,</span> <span class="nn">eemont</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ee</span><span class="o">.</span><span class="n">Initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="mf">3.984770</span><span class="p">,</span><span class="mf">48.767221</span><span class="p">])</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">50</span><span class="p">),{</span><span class="s1">&#39;ID&#39;</span><span class="p">:</span><span class="s1">&#39;A&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="mf">4.101367</span><span class="p">,</span><span class="mf">48.748076</span><span class="p">])</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">50</span><span class="p">),{</span><span class="s1">&#39;ID&#39;</span><span class="p">:</span><span class="s1">&#39;B&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fc</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">([</span><span class="n">f1</span><span class="p">,</span><span class="n">f2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;COPERNICUS/S2_SR&#39;</span><span class="p">)</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">filterBounds</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">filterDate</span><span class="p">(</span><span class="s1">&#39;2020-01-01&#39;</span><span class="p">,</span><span class="s1">&#39;2021-01-01&#39;</span><span class="p">)</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">maskClouds</span><span class="p">()</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">scale</span><span class="p">()</span>
<span class="gp">... </span>     <span class="o">.</span><span class="n">index</span><span class="p">([</span><span class="s1">&#39;EVI&#39;</span><span class="p">,</span><span class="s1">&#39;NDVI&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">S2</span><span class="o">.</span><span class="n">getTimeSeriesByRegions</span><span class="p">(</span><span class="n">reducer</span> <span class="o">=</span> <span class="p">[</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">median</span><span class="p">()],</span>
<span class="gp">... </span>                               <span class="n">collection</span> <span class="o">=</span> <span class="n">fc</span><span class="p">,</span>
<span class="gp">... </span>                               <span class="n">bands</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;EVI&#39;</span><span class="p">,</span><span class="s1">&#39;NDVI&#39;</span><span class="p">],</span>
<span class="gp">... </span>                               <span class="n">scale</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="../eeimagecollection.html#eemont.imagecollection.getTimeSeriesByRegion" title="eemont.imagecollection.getTimeSeriesByRegion"><code class="xref py py-func docutils literal notranslate"><span class="pre">getTimeSeriesByRegion()</span></code></a></dt><dd><p>Gets the time series by region for the given image collection and geometry (feature or feature collection are also supported) according to the specified reducer (or reducers).</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="eemont.imagecollection.index">
<code class="sig-prename descclassname">eemont.imagecollection.</code><code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">'NDVI'</span></em>, <em class="sig-param"><span class="n">G</span><span class="o">=</span><span class="default_value">2.5</span></em>, <em class="sig-param"><span class="n">C1</span><span class="o">=</span><span class="default_value">6.0</span></em>, <em class="sig-param"><span class="n">C2</span><span class="o">=</span><span class="default_value">7.5</span></em>, <em class="sig-param"><span class="n">L</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">kernel</span><span class="o">=</span><span class="default_value">'RBF'</span></em>, <em class="sig-param"><span class="n">sigma</span><span class="o">=</span><span class="default_value">'0.5 * (a + b)'</span></em>, <em class="sig-param"><span class="n">p</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">c</span><span class="o">=</span><span class="default_value">1.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/eemont/imagecollection.html#index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eemont.imagecollection.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes one or more spectral indices (indices are added as bands) for an image collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>ee.ImageCollection</em>) – Image collection to compute indices on. Must be scaled to [0,1]. Check the supported platforms in User Guide &gt; Spectral Indices &gt; Supported Platforms.</p></li>
<li><p><strong>index</strong> (<em>string | list</em><em>[</em><em>string</em><em>]</em><em>, </em><em>default = 'NDVI'</em>) – <p>Index or list of indices to compute.</p>
<dl class="simple">
<dt>Available options:</dt><dd><ul>
<li><p>’vegetation’ : Compute all vegetation indices.</p></li>
<li><p>’burn’ : Compute all burn indices.</p></li>
<li><p>’water’ : Compute all water indices.</p></li>
<li><p>’snow’ : Compute all snow indices.</p></li>
<li><p>’drought’ : Compute all drought indices.</p></li>
<li><p>’kernel’ : Compute all kernel indices.</p></li>
<li><p>’all’ : Compute all indices listed below.</p></li>
</ul>
</dd>
<dt>Vegetation indices:</dt><dd><ul>
<li><p>’BNDVI’ : Blue Normalized Difference Vegetation Index.</p></li>
<li><p>’CIG’ : Chlorophyll Index - Green.</p></li>
<li><p>’CVI’ : Chlorophyll Vegetation Index.</p></li>
<li><p>’EVI’ : Enhanced Vegetation Index.</p></li>
<li><p>’EVI2’ : Two-Band Enhanced Vegetation Index.</p></li>
<li><p>’GARI’ : Green Atmospherically Resistant Vegetation Index.</p></li>
<li><p>’GBNDVI’ : Green-Blue Normalized Difference Vegetation Index.</p></li>
<li><p>’GEMI’ : Global Environment Monitoring Index.</p></li>
<li><p>’GLI’ : Green Leaf Index.</p></li>
<li><p>’GNDVI’ : Green Normalized Difference Vegetation Index.</p></li>
<li><p>’GRNDVI’ : Green-Red Normalized Difference Vegetation Index.</p></li>
<li><p>’GVMI’ : Global Vegetation Moisture Index.</p></li>
<li><p>’MNDVI’ : Modified Normalized Difference Vegetation Index.</p></li>
<li><p>’NDVI’ : Normalized Difference Vegetation Index.</p></li>
<li><p>’NGRDI’ : Normalized Green Red Difference Index.</p></li>
<li><p>’RVI’ : Ratio Vegetation Index.</p></li>
<li><p>’SAVI’ : Soil-Adjusted Vegetation Index.</p></li>
<li><p>’VARI’ : Visible Atmospherically Resistant Index.</p></li>
</ul>
</dd>
<dt>Burn and fire indices:</dt><dd><ul>
<li><p>’BAI’ : Burned Area Index.</p></li>
<li><p>’BAIS2’ : Burned Area Index for Sentinel 2.</p></li>
<li><p>’CSIT’ : Char Soil Index Thermal.</p></li>
<li><p>’NBR’ : Normalized Burn Ratio.</p></li>
<li><p>’NBRT’ : Normalized Burn Ratio Thermal.</p></li>
<li><p>’NDVIT’ : Normalized Difference Vegetation Index Thermal</p></li>
<li><p>’SAVIT’ : Soil-Adjusted Vegetation Index Thermal.</p></li>
</ul>
</dd>
<dt>Water indices:</dt><dd><ul>
<li><p>’MNDWI’ : Modified Normalized Difference Water Index.</p></li>
<li><p>’NDWI’ : Normalized Difference Water Index.</p></li>
</ul>
</dd>
<dt>Snow indices:</dt><dd><ul>
<li><p>’NDSI’ : Normalized Difference Snow Index.</p></li>
</ul>
</dd>
<dt>Drought indices:</dt><dd><ul>
<li><p>’NDDI’ : Normalized Difference Drought Index.</p></li>
</ul>
</dd>
<dt>Kernel indices:</dt><dd><ul>
<li><p>’kEVI’ : Kernel Enhanced Vegetation Index.</p></li>
<li><p>’kNDVI’ : Kernel Normalized Difference Vegetation Index.</p></li>
<li><p>’kRVI’ : Kernel Ratio Vegetation Index.</p></li>
<li><p>’kVARI’ : Kernel Visible Atmospherically Resistant Index.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>G</strong> (<em>float</em><em>, </em><em>default = 2.5</em>) – Gain factor. Used just for index = ‘EVI’.</p></li>
<li><p><strong>C1</strong> (<em>float</em><em>, </em><em>default = 6.0</em>) – Coefficient 1 for the aerosol resistance term. Used just for index = ‘EVI’.</p></li>
<li><p><strong>C2</strong> (<em>float</em><em>, </em><em>default = 7.5</em>) – Coefficient 2 for the aerosol resistance term. Used just for index = ‘EVI’.</p></li>
<li><p><strong>L</strong> (<em>float</em><em>, </em><em>default = 1.0</em>) – Canopy background adjustment. Used just for index = [‘EVI’,’SAVI’].</p></li>
<li><p><strong>kernel</strong> (<em>str</em><em>, </em><em>default = 'RBF'</em>) – <p>Kernel used for kernel indices.</p>
<dl class="simple">
<dt>Available options:</dt><dd><ul>
<li><p>’linear’ : Linear Kernel.</p></li>
<li><p>’RBF’ : Radial Basis Function (RBF) Kernel.</p></li>
<li><p>’poly’ : Polynomial Kernel.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>sigma</strong> (<em>str | float</em><em>, </em><em>default = '0.5 *</em><em> (</em><em>a + b</em><em>)</em><em>'</em>) – Length-scale parameter. Used for kernel = ‘RBF’. If str, this must be an expression including ‘a’ and ‘b’. If numeric, this must be positive.</p></li>
<li><p><strong>p</strong> (<em>float</em><em>, </em><em>default = 2.0</em>) – Kernel degree. Used for kernel = ‘poly’.</p></li>
<li><p><strong>c</strong> (<em>float</em><em>, </em><em>default = 1.0</em>) – Free parameter that trades off the influence of higher-order versus lower-order terms in the polynomial kernel.
Used for kernel = ‘poly’. This must be greater than or equal to 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Image collection with the computed spectral index, or indices, as new bands.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ee.ImageCollection</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ee</span><span class="o">,</span> <span class="nn">eemont</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ee</span><span class="o">.</span><span class="n">Initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;COPERNICUS/S2_SR&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">([</span><span class="s1">&#39;NDVI&#39;</span><span class="p">,</span><span class="s1">&#39;EVI&#39;</span><span class="p">,</span><span class="s1">&#39;GNDVI&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="../eeimagecollection.html#eemont.imagecollection.scale" title="eemont.imagecollection.scale"><code class="xref py py-func docutils literal notranslate"><span class="pre">scale()</span></code></a></dt><dd><p>Scales bands on an image collection.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="eemont.imagecollection.maskClouds">
<code class="sig-prename descclassname">eemont.imagecollection.</code><code class="sig-name descname">maskClouds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'cloud_prob'</span></em>, <em class="sig-param"><span class="n">prob</span><span class="o">=</span><span class="default_value">60</span></em>, <em class="sig-param"><span class="n">maskCirrus</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">maskShadows</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">scaledImage</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dark</span><span class="o">=</span><span class="default_value">0.15</span></em>, <em class="sig-param"><span class="n">cloudDist</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">buffer</span><span class="o">=</span><span class="default_value">250</span></em>, <em class="sig-param"><span class="n">cdi</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/eemont/imagecollection.html#maskClouds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eemont.imagecollection.maskClouds" title="Permalink to this definition">¶</a></dt>
<dd><p>Masks clouds and shadows in an image collection (valid just for Surface Reflectance products).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>ee.ImageCollection</em><em> [</em><em>this</em><em>]</em>) – Image collection to mask. Check the supported platforms in User Guide &gt; Masking Clouds and Shadows &gt; Supported Platforms.</p></li>
<li><p><strong>method</strong> (<em>string</em><em>, </em><em>default = 'cloud_prob'</em>) – <p>Method used to mask clouds.</p>
<dl class="simple">
<dt>Available options:</dt><dd><ul>
<li><p>’cloud_prob’ : Use cloud probability.</p></li>
<li><p>’qa’ : Use Quality Assessment band.</p></li>
</ul>
</dd>
</dl>
<p>This parameter is ignored for Landsat products.</p>
</p></li>
<li><p><strong>prob</strong> (<em>numeric</em><em> [</em><em>0</em><em>, </em><em>100</em><em>]</em><em>, </em><em>default = 60</em>) – Cloud probability threshold. Valid just for method = ‘prob’. This parameter is ignored for Landsat products.</p></li>
<li><p><strong>maskCirrus</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – Whether to mask cirrus clouds. Valid just for method = ‘qa’. This parameter is ignored for Landsat products.</p></li>
<li><p><strong>maskShadows</strong> (<em>boolean</em><em>, </em><em>default = True</em>) – Whether to mask cloud shadows. For more info see ‘Braaten, J. 2020. Sentinel-2 Cloud Masking with s2cloudless. Google Earth Engine, Community Tutorials’.</p></li>
<li><p><strong>scaledImage</strong> (<em>boolean</em><em>, </em><em>default = False</em>) – Whether the pixel values are scaled to the range [0,1] (reflectance values). This parameter is ignored for Landsat products.</p></li>
<li><p><strong>dark</strong> (<em>float</em><em> [</em><em>0</em><em>,</em><em>1</em><em>]</em><em>, </em><em>default = 0.15</em>) – NIR threshold. NIR values below this threshold are potential cloud shadows. This parameter is ignored for Landsat products.</p></li>
<li><p><strong>cloudDist</strong> (<em>int</em><em>, </em><em>default = 1000</em>) – Maximum distance in meters (m) to look for cloud shadows from cloud edges. This parameter is ignored for Landsat products.</p></li>
<li><p><strong>buffer</strong> (<em>int</em><em>, </em><em>default = 250</em>) – Distance in meters (m) to dilate cloud and cloud shadows objects. This parameter is ignored for Landsat products.</p></li>
<li><p><strong>cdi</strong> (<em>float</em><em> [</em><em>-1</em><em>,</em><em>1</em><em>]</em><em>, </em><em>default = None</em>) – Cloud Displacement Index threshold. Values below this threshold are considered potential clouds.
A cdi = None means that the index is not used. For more info see
‘Frantz, D., HaS, E., Uhl, A., Stoffels, J., Hill, J. 2018. Improvement of the Fmask algorithm for Sentinel-2 images:
Separating clouds from bright surfaces based on parallax effects. Remote Sensing of Environment 2015: 471-481’.
This parameter is ignored for Landsat products.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Cloud-shadow masked image collection.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ee.ImageCollection</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ee</span><span class="o">,</span> <span class="nn">eemont</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ee</span><span class="o">.</span><span class="n">Initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;COPERNICUS/S2_SR&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">maskClouds</span><span class="p">(</span><span class="n">prob</span> <span class="o">=</span> <span class="mi">75</span><span class="p">,</span><span class="n">buffer</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span><span class="n">cdi</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>This method may mask water as well as clouds for the Sentinel-3 Radiance product.</p>
</dd></dl>

<dl class="py function">
<dt id="eemont.imagecollection.scale">
<code class="sig-prename descclassname">eemont.imagecollection.</code><code class="sig-name descname">scale</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/eemont/imagecollection.html#scale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eemont.imagecollection.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales bands on an image collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<em>ee.ImageCollection</em><em> (</em><em>this</em><em>)</em>) – Image collection to scale. Check the supported platforms in User Guide &gt; Image Scaling &gt; Supported Platforms.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Scaled image collection.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ee.ImageCollection</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ee</span><span class="o">,</span> <span class="nn">eemont</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ee</span><span class="o">.</span><span class="n">Initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;COPERNICUS/S2_SR&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, David Montero Loaiza.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>