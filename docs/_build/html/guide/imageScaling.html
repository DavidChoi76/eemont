
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Scaling &#8212; eemont 0.1.9 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.f6b7ca918bee2f46fd9abac01cfb07d5.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1e043a052b0af929e4d8.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Masking Clouds and Shadows" href="maskingClouds.html" />
    <link rel="prev" title="Data Conversion" href="dataConversion.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">


    
      
      <a class="navbar-brand" href="../index.html">
        <img src="../_static/logo.png" class="logo" alt="logo">
      </a>
      
    

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    
    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../classes/index.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="eemontR.html">
  eemont in R
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../changelog.html">
  Changelog
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../tutorials.html">
  Tutorials
 </a>
</li>

        
      </ul>

      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/davemlz/eemont" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/dmlmont" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l2">
  <a class="reference internal" href="closestImage.html">
   Closest Image to a Specific Date
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="constructors.html">
   Constructors
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="dataConversion.html">
   Data Conversion
  </a>
 </li>
 <li class="toctree-l2 current active">
  <a class="current reference internal" href="#">
   Image Scaling
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="maskingClouds.html">
   Masking Clouds and Shadows
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="overloadedOperators.html">
   Overloaded Operators
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="spectralIndices.html">
   Spectral Indices
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="timeSeries.html">
   Time Series By Regions
  </a>
 </li>
</ul>
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overview">
   Overview
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ee-image">
     ee.Image
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ee-imagecollection">
     ee.ImageCollection
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#supported-platforms">
   Supported Platforms
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#usage">
   Usage
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#preprocessing">
     Preprocessing
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>


              
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="image-scaling">
<h1>Image Scaling<a class="headerlink" href="#image-scaling" title="Permalink to this headline">¶</a></h1>
<p>Image scaling now is A LOT EASIER with eemont! Let’s see how!</p>
<p>Before anything, let’s import our modules and authenticate in Google Earth Engine:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ee</span><span class="o">,</span> <span class="nn">eemont</span>

<span class="n">ee</span><span class="o">.</span><span class="n">Authenticate</span><span class="p">()</span>
<span class="n">ee</span><span class="o">.</span><span class="n">Initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Now, we are ready to go!</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The eemont package extends the ee.Image and ee.ImageCollection classes with the following methods:</p>
<div class="section" id="ee-image">
<h3>ee.Image<a class="headerlink" href="#ee-image" title="Permalink to this headline">¶</a></h3>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../classes/stubs/eemont.image.getOffsetParams.html#eemont.image.getOffsetParams" title="eemont.image.getOffsetParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getOffsetParams</span></code></a>(self)</p></td>
<td><p>Gets the offset parameters for each band of the image.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../classes/stubs/eemont.image.getScaleParams.html#eemont.image.getScaleParams" title="eemont.image.getScaleParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getScaleParams</span></code></a>(self)</p></td>
<td><p>Gets the scale parameters for each band of the image.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../classes/stubs/eemont.image.preprocess.html#eemont.image.preprocess" title="eemont.image.preprocess"><code class="xref py py-obj docutils literal notranslate"><span class="pre">preprocess</span></code></a>(self, **kwargs)</p></td>
<td><p>Pre-processes the image: masks clouds and shadows, and scales and offsets the image.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../classes/stubs/eemont.image.scaleAndOffset.html#eemont.image.scaleAndOffset" title="eemont.image.scaleAndOffset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scaleAndOffset</span></code></a>(self)</p></td>
<td><p>Scales bands on an image according to their scale and offset parameters.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ee-imagecollection">
<h3>ee.ImageCollection<a class="headerlink" href="#ee-imagecollection" title="Permalink to this headline">¶</a></h3>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../classes/stubs/eemont.imagecollection.getOffsetParams.html#eemont.imagecollection.getOffsetParams" title="eemont.imagecollection.getOffsetParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getOffsetParams</span></code></a>(self)</p></td>
<td><p>Gets the offset parameters for each band of the image collection.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../classes/stubs/eemont.imagecollection.getScaleParams.html#eemont.imagecollection.getScaleParams" title="eemont.imagecollection.getScaleParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getScaleParams</span></code></a>(self)</p></td>
<td><p>Gets the scale parameters for each band of the image collection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../classes/stubs/eemont.imagecollection.preprocess.html#eemont.imagecollection.preprocess" title="eemont.imagecollection.preprocess"><code class="xref py py-obj docutils literal notranslate"><span class="pre">preprocess</span></code></a>(self, **kwargs)</p></td>
<td><p>Pre-processes the image collection: masks clouds and shadows, and scales and offsets the image collection.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../classes/stubs/eemont.imagecollection.scaleAndOffset.html#eemont.imagecollection.scaleAndOffset" title="eemont.imagecollection.scaleAndOffset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scaleAndOffset</span></code></a>(self)</p></td>
<td><p>Scales bands on an image collection according to their scale and offset parameters.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="supported-platforms">
<h2>Supported Platforms<a class="headerlink" href="#supported-platforms" title="Permalink to this headline">¶</a></h2>
<p>This method automatically scales ALL images from the <a class="reference external" href="https://developers.google.com/earth-engine/datasets">Google Earth Engine STAC Catalog</a> by using the <a class="reference external" href="https://github.com/davemlz/ee-catalog-scale-offset-params">List of Scale and Offset Paramaters from the GEE STAC Catalog Repository</a>.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The <code class="code docutils literal notranslate"><span class="pre">scaleAndOffset()</span></code> method scales each image according to the <em>Scale</em> and <em>Offset</em> parameters for each band of the image.</p>
<p>Let’s take the Sentinel-2 SR image collection as example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">S2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;COPERNICUS/S2_SR&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The spectral bands from Sentinel-2 have values close to the (0, 10000) range, but they’re unscaled. In order to get the real values, each spectral band must be multiplied by 0.0001, while AOT and WVP bands must be multiplied by 0.001. This scaling is automatically done by the <code class="code docutils literal notranslate"><span class="pre">scaleAndOffset()</span></code> method, without any additional parameters:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">S2</span><span class="o">.</span><span class="n">scaleAndOffset</span><span class="p">()</span>
</pre></div>
</div>
<p>The <em>Scale</em> and <em>Offset</em> parameters vary according to the satellite platform and the <code class="code docutils literal notranslate"><span class="pre">scaleAndOffset()</span></code> method detects the platform and do the scaling according to its parameters.</p>
<p>Let’s take now the MOD11A2 product from MODIS. The LST_Day_1km and LST_Night_1km bands must be multiplied by 0.02, the Day_view_time and Night_view_time bands must be multiplied by 0.1,
the Emis_31 and Emis_32 bands must be multiplied by 0.002 and added by 0.49, while the Day_view_angl and Night_view_angl bands must be added by -65. All of this scaling
is simply done by the <code class="code docutils literal notranslate"><span class="pre">scaleAndOffset()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MOD11A2scaled</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;MODIS/006/MOD11A2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scaleAndOffset</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="code docutils literal notranslate"><span class="pre">scale()</span></code> method can be applied to single images as well:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MOD11A2scaled</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;MODIS/006/MOD11A2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">scaleAndOffset</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="preprocessing">
<h3>Preprocessing<a class="headerlink" href="#preprocessing" title="Permalink to this headline">¶</a></h3>
<p>Additionally, if required, the <code class="code docutils literal notranslate"><span class="pre">preprocess()</span></code> method can be used to scale and mask images and image collections:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">S2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;COPERNICUS/S2_SR&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">preprocess</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="dataConversion.html" title="previous page">Data Conversion</a>
    <a class='right-next' id="next-link" href="maskingClouds.html" title="next page">Masking Clouds and Shadows</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../_static/js/index.1e043a052b0af929e4d8.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2021, David Montero Loaiza.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.1.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>